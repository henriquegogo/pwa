<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8' />
        <link rel='shortcut icon' href='favicon.ico' />
        <meta name='viewport' content='width=device-width, initial-scale=1' />
        <meta name='theme-color' content='#000000' />
        <meta name='description' content='Video Grid' />
        <link rel='apple-touch-icon' href='icon192white.png' />
        <link rel='manifest' href='manifest.json' />
        <title>Video Grid</title>
        <style>
            body {
                position: fixed;
                top: 0; bottom: 0;
                left: 0; right: 0;
                display: flex;
                flex-wrap: wrap;
                margin: 0;
            }
            body iframe {
                flex: 1;
            }
            #playbutton {
                position: fixed;
                width: 33%;
                height: 33%;
                top: 33%;
                left: 33%;
            }
        </style>
    </head>
    <body>
        <button id='playbutton'>Play</button>
    </body>
    <script src='https://www.youtube.com/iframe_api'></script>
    <script>
    var players = [];

    playbutton.onclick = function() {
        for (var player of players) {
            player.playVideo();
        }

        playbutton.style.display = 'none';
    };

    function onYouTubeIframeAPIReady() {
        var videosList = location.hash.split('#').slice(1);
        if (videosList.length == 0) videosList.push('Mi3s-o3LRjg');

        for (var videoId of videosList) {
            var id = 'player' + videoId;
            var videoContainer = document.createElement('div');
            videoContainer.id = id;
            document.body.appendChild(videoContainer);

            var player = new YT.Player(id, {
                videoId: videoId,
                width: 'auto',
                height: 'auto',
                playerVars: {
                    controls: 0,
                    disablekb: 1,
                    fs: 0,
                    modestbranding: 1,
                    rel: 0,
                    showinfo: 0
                },
                events: {
                    onReady: function(event) {
                        event.target.playVideo();
                    }
                }
            });

            players.push(player);
        }
    }
    </script>
</html>
